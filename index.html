<!DOCTYPE html><html><head>
<title>index.html</title>
<script src="./custombox.legacy.min.js"></script>
<script src="//unpkg.com/core-js/client/shim.min.js"></script>
<script src="//unpkg.com/zone.js@0.8.4?main=browser"></script>
<script src="//unpkg.com/rxjs@5.0.1/bundles/Rx.js"></script>
<script src="//unpkg.com/@angular/core/bundles/core.umd.js"></script>
<script src="//unpkg.com/@angular/common/bundles/common.umd.js"></script>
<script src="//unpkg.com/@angular/compiler/bundles/compiler.umd.js"></script>
<script src="//unpkg.com/@angular/http/bundles/http.umd.js"></script>
<script src="//npmcdn.com/angular-in-memory-web-api@0.3.2"></script>
<script src="//unpkg.com/@angular/forms/bundles/forms.umd.js"></script>
<script src="//unpkg.com/@angular/platform-browser/bundles/platform-browser.umd.js"></script>
<script src="//unpkg.com/@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.js"></script>

<link rel="stylesheet" href="./custombox.min.css">
<style>
  /* reset margin of body*/
  html body {
    margin: 0;
  }
</style>
<script src="./custombox.min.js"></script>
<script src="./common.js"></script>
<script src="./module1.js"></script>
<script>(function(template2){
    let m1 =  template2.module1;
    let TplComponent = ng.core.Component({  
      selector: 'tpl-2b',  
      template: ''+  
      '<ng-content select="ng-container[role=footer]"></ng-content>'+  
      '<ng-content></ng-content>'+  
      '<ng-content select="ng-container[role=header]"></ng-content>'+  
      'tpl-2b'
    }).Class({  
      constructor: [function() {  
      }],  
      ngOnInit: function() {  
      }
    });
    let MnComponent = ng.core.Component({  
      selector: 'mn',  
      inputs: ['relate'],  
      template: ''+  
      '<div class="swap-size mdl-cell mdl-cell--12-col-desktop">'+    
      '<div class="mdl-grid mdl-grid--no-spacing">'+
      '<div class="mdl-cell mdl-cell--12-col">'+  
      '<strong (click)="custombox()">{{cnMonth}}月</strong>'+  
      '<ng-content select="ng-container[role=header]"></ng-content>'+
      '</div>'+
      '<template ngFor let-row [ngForOf]="[0,1,2,3,4,5]">'+  
      '<div class="mdl-cell mdl-cell--6-col-desktop">'+    
      '<div class="mdl-grid mdl-grid--no-spacing">'+
      '<template ngFor let-num [ngForOf]="three" let-index="index">'+
      '<div *ngIf="row==num.row&&index%7<3; then thenBlock else elseBlock"></div>'+
      '<ng-template #thenBlock>'+  
      '<div [ngClass]="{\'mdl-cell--2-offset\': index%7==0,'+
      '\'mdl-cell--3-offset-desktop\': index%7==0,'+
      '\'first-bag\': num.value>0}"'+  
      ' class="mdl-cell mdl-cell--2-col mdl-cell--3-col-desktop"'+  
      '>{{ cellinfo(num) }}'+   
      '</div>'+
      '</ng-template>'+
      '<ng-template #elseBlock>'+
      '</ng-template>'+
      '</template>'+    
      '</div>'+  
      '</div>'+  
      '<div class="mdl-cell mdl-cell--6-col-desktop">'+    
      '<div class="mdl-grid mdl-grid--no-spacing">'+
      '<template ngFor let-num [ngForOf]="three" let-index="index">'+
      '<template [ngIf]="row==num.row&&index%7>=3">'+  
      '<div [ngClass]="{\'first-bag\': num.value>0}" class="mdl-cell mdl-cell--2-col mdl-cell--3-col-desktop">'+    
      '{{ cellinfo(num) }}'+   
      '</div>'+
      '</template>'+
      '</template>'+    
      '</div>'+  
      '</div>'+
      '</template>'+    
      '</div>'+  
      '</div>'+  
      'mn'
    }).Class({  
      constructor: [m1.Calendar, m1.InMemHeroService, function(m1Calendar,m1InMemHeroService) {    
        this.Calendar = m1Calendar;
        this.InMemHeroService =  m1InMemHeroService;
        console.log(this.InMemHeroService);
        console.log(this.InMemHeroService.lst());
      }],  
      ngOnInit: function() {    
        let cYear = 2017;    
        let ciMonth = (typeof this.relate === "undefined" ? this.Calendar.ciMonth() : this.Calendar.ciMonth()+this.relate );    
        let cMonth = this.Calendar.cMonth(ciMonth+1);    
        this.cnMonth = this.Calendar.cnMonth(ciMonth);    
        this.three = [];    
        let cellelement = [];    
        for (let row=0; row<cMonth[1].length; row++) {
          for (let col=0; col<cMonth[1][row].length; col++) {  
            let cellelement = {    
              value: cMonth[1][row][col],    
              name: cYear+"-"+ciMonth+"-"+cMonth[1][row][col],    
              type: new Date(cYear,ciMonth,cMonth[1][row][col]).getDay(),    
              row: row  
            }  
            this.three.push(cellelement);
          }    
        }  
      },  
      cellinfo: function(cell) {    
        let type = cell.type;    
        return (cell.value? cell.value +"("+this.Calendar.cDay()[type]+")" : "");  
      },  
      custombox: function() {    
        new Custombox.modal({
          content: {
            effect: 'fadein',
            target: '#custombox'
          }
        }).open();
      }
    });
    let AppComponent = ng.core.Component({  
      selector: 'demo-app',  
      template: ''+  
      '<tpl-2b id="custombox" class="custombox-reference">'+  
      '<ng-container role="header">'+  
      'This is my header content.'+  
      '</ng-container>'+  
			'<ng-container role="footer">'+  
      'This is my footer content.'+ 
      '<button (click)="customboxclose()">close</button>'+ 
      '</ng-container>'+  
      '<div class="mdl-grid mdl-grid--no-spacing">'+  
      '<mn [relate]="-1">'+  
      '<ng-container role="header">'+  
      'This is my header content.'+     
      '</ng-container>'+  
      '</mn><mn></mn><mn [relate]="1"></mn>'+  
      '</div>'+  
      '</tpl-2b>'+  
      'demo-app'
    }).Class({  
      constructor: [function() {  
      }],  
      ngOnInit: function() {
        this.customboxopen();
      },  
      extend: function(event) {    
        this.shacd = event.target.options[event.target.selectedIndex].dataset.cd;  
      },  
      isset: function(property) {    
        return !(typeof property === "undefined");  
      },
      customboxopen: function() {
        this.custombox = new Custombox.modal({
          content: {
            target: '#custombox'
          }
        }).open();
      },
      customboxclose: function() {
        this.custombox.modal.close();
      }
    });

    document.addEventListener('DOMContentLoaded', function() {  
      let AppModule = ng.core.NgModule({    
        imports: [ m1, ng.platformBrowser.BrowserModule, ng.http.HttpModule ],    
        declarations: [ AppComponent, TplComponent, MnComponent, m1.Sel ],    
        providers: [ m1.Calendar, m1.InMemHeroService ],    
        bootstrap: [ AppComponent ]  
      }).Class({    
        constructor: function() {    
        }  
      });  
      ng.platformBrowserDynamic    
        .platformBrowserDynamic()    
        .bootstrapModule(AppModule);
    });
    template2.share = (template2.share ? true : false);    
  })(window.template2 || (window.template2 = {}));  </script>
</head><body>
<p>index.html</p>
<script>(function(global){
let m1 =  global.common;
document.write(m1);
})(window.global || (window.global = {}));</script>
<demo-app></demo-app>
</body></html>