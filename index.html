<!DOCTYPE html><html><head>
<title>index.html</title>
<script src="//unpkg.com/core-js/client/shim.min.js"></script>
<script src="//unpkg.com/zone.js@0.8.4?main=browser"></script>
<script src="//unpkg.com/rxjs@5.0.1/bundles/Rx.js"></script>
<script src="//unpkg.com/@angular/core/bundles/core.umd.js"></script>
<script src="//unpkg.com/@angular/common/bundles/common.umd.js"></script>
<script src="//unpkg.com/@angular/compiler/bundles/compiler.umd.js"></script>
<script src="//unpkg.com/@angular/http/bundles/http.umd.js"></script>
<script src="//npmcdn.com/angular-in-memory-web-api@0.3.2"></script>
<script src="//unpkg.com/@angular/forms/bundles/forms.umd.js"></script>
<script src="//unpkg.com/@angular/platform-browser/bundles/platform-browser.umd.js"></script>
<script src="//unpkg.com/@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.js"></script>

<link rel="stylesheet" href="./tingle.css">
<link rel="stylesheet" href="./popupS.css">
<script src="./tingle.js"></script>
<script src="./popupS.js"></script>
<script src="./common.js"></script>
<script src="./module1.js"></script>
<script>(function(template2){
    let m1 =  template2.module1;
    let TplComponent = ng.core.Component({  
      selector: 'tpl-2b',  
      template: ''+  
      '<ng-content select="ng-container[role=footer]"></ng-content>'+  
      '<ng-content></ng-content>'+  
      '<ng-content select="ng-container[role=header]"></ng-content>'+  
      'tpl-2b'
    }).Class({  
      constructor: [function() {  
      }],  
      ngOnInit: function() {

        let this2 = this;
        // instanciate new modal
        this.tingle = new tingle.modal({
            footer: true,
            stickyFooter: false,
            closeMethods: ['escape'],
            cssClass: ['custom-class-1', 'custom-class-2'],
            onOpen: function() {
                console.log('modal open');
            },
            onClose: function() {
                console.log('modal closed');
            },
            beforeClose: function() {
                // here's goes some logic
                // e.g. save content before closing the modal
                return true; // close the modal
            }
        });

        // set content
        this.tingle.setContent('<h1>here\'s some content</h1>');

        // add a button
        this.tingle.addFooterBtn('閉じ①', 'tingle-btn tingle-btn--primary', function() {
          // here goes some logic
          this2.tingle.close();
        });

        // add another button
        this.tingle.addFooterBtn('続く①', 'tingle-btn tingle-btn--danger', function() {
          // here goes some logic
          this2.tingle.close();
          popupS.confirm({
            content: ''+
              '<div class="dropper-form aligned">'+
                '<div class="dropper-form-controls">'+
                  '<button type="submit" class="dropper-button primary button-purple">ボタン</button>'+
                '</div>'+
              '</div>',
            labelOk: '続く②',
            labelCancel: '閉じ②',
            onSubmit: function() {
              this2.tingle.open();
            }
          });
        });

        this.tingle.open();

      }
    });
    let MnComponent = ng.core.Component({  
      selector: 'mn',  
      inputs: ['relate'],  
      template: ''+  
      '<div class="swap-size mdl-cell mdl-cell--12-col-desktop">'+    
      '<div class="mdl-grid mdl-grid--no-spacing">'+
      '<div class="mdl-cell mdl-cell--12-col">'+  
      '<strong>{{cnMonth}}月</strong>'+  
      '<ng-content select="ng-container[role=header]"></ng-content>'+
      '</div>'+
      '<template ngFor let-row [ngForOf]="[0,1,2,3,4,5]">'+  
      '<div class="mdl-cell mdl-cell--6-col-desktop">'+    
      '<div class="mdl-grid mdl-grid--no-spacing">'+
      '<template ngFor let-num [ngForOf]="three" let-index="index">'+
      '<div *ngIf="row==num.row&&index%7<3; then thenBlock else elseBlock"></div>'+
      '<ng-template #thenBlock>'+  
      '<div [ngClass]="{\'mdl-cell--2-offset\': index%7==0,'+
      '\'mdl-cell--3-offset-desktop\': index%7==0,'+
      '\'first-bag\': num.value>0}"'+  
      ' class="mdl-cell mdl-cell--2-col mdl-cell--3-col-desktop"'+  
      '>{{ cellinfo(num) }}'+   
      '</div>'+
      '</ng-template>'+
      '<ng-template #elseBlock>'+
      '</ng-template>'+
      '</template>'+    
      '</div>'+  
      '</div>'+  
      '<div class="mdl-cell mdl-cell--6-col-desktop">'+    
      '<div class="mdl-grid mdl-grid--no-spacing">'+
      '<template ngFor let-num [ngForOf]="three" let-index="index">'+
      '<template [ngIf]="row==num.row&&index%7>=3">'+  
      '<div [ngClass]="{\'first-bag\': num.value>0}" class="mdl-cell mdl-cell--2-col mdl-cell--3-col-desktop">'+    
      '{{ cellinfo(num) }}'+   
      '</div>'+
      '</template>'+
      '</template>'+    
      '</div>'+  
      '</div>'+
      '</template>'+    
      '</div>'+  
      '</div>'+  
      'mn'
    }).Class({  
      constructor: [m1.Calendar, m1.InMemHeroService, function(m1Calendar,m1InMemHeroService) {    
        this.Calendar = m1Calendar;
        this.InMemHeroService =  m1InMemHeroService;
        console.log(this.InMemHeroService);
        console.log(this.InMemHeroService.lst());
      }],  
      ngOnInit: function() {
        let cYear = 2017;    
        let ciMonth = (typeof this.relate === "undefined" ? this.Calendar.ciMonth() : this.Calendar.ciMonth()+this.relate );    
        let cMonth = this.Calendar.cMonth(ciMonth+1);    
        this.cnMonth = this.Calendar.cnMonth(ciMonth);    
        this.three = [];    
        let cellelement = [];    
        for (let row=0; row<cMonth[1].length; row++) {
          for (let col=0; col<cMonth[1][row].length; col++) {  
            let cellelement = {    
              value: cMonth[1][row][col],    
              name: cYear+"-"+ciMonth+"-"+cMonth[1][row][col],    
              type: new Date(cYear,ciMonth,cMonth[1][row][col]).getDay(),    
              row: row  
            }  
            this.three.push(cellelement);
          }    
        }  
      },  
      cellinfo: function(cell) {    
        let type = cell.type;    
        return (cell.value? cell.value +"("+this.Calendar.cDay()[type]+")" : "");  
      },  
      ngAfterViewInit: function() {    
     
      }
    });
    let AppComponent = ng.core.Component({  
      selector: 'demo-app',  
      template: ''+  
      '<tpl-2b>'+  
      '<ng-container role="header">'+  
      'This is my header content.'+  
      '</ng-container>'+  
			'<ng-container role="footer">'+  
      'This is my footer content.'+  
      '</ng-container>'+  
      '<div class="mdl-grid mdl-grid--no-spacing">'+  
      '<mn [relate]="-1">'+  
      '<ng-container role="header">'+  
      'This is my header content.'+     
      '</ng-container>'+  
      '</mn><mn></mn><mn [relate]="1"></mn>'+  
      '</div>'+  
      '</tpl-2b>'+  
      'demo-app'
    }).Class({  
      constructor: [function() {  
      }],  
      ngOnInit: function() {  
      },  
      extend: function(event) {    
        this.shacd = event.target.options[event.target.selectedIndex].dataset.cd;  
      },  
      isset: function(property) {    
        return !(typeof property === "undefined");  
      }
    });

    document.addEventListener('DOMContentLoaded', function() {  
      let AppModule = ng.core.NgModule({    
        imports: [ m1, ng.platformBrowser.BrowserModule, ng.http.HttpModule ],    
        declarations: [ AppComponent, TplComponent, MnComponent, m1.Sel ],    
        providers: [ m1.Calendar, m1.InMemHeroService ],    
        bootstrap: [ AppComponent ]  
      }).Class({    
        constructor: function() {    
        }  
      });  
      ng.platformBrowserDynamic    
        .platformBrowserDynamic()    
        .bootstrapModule(AppModule);
    });
    template2.share = (template2.share ? true : false);    
  })(window.template2 || (window.template2 = {}));  </script>
</head><body>
<p>index.html</p>
<script>(function(global){
let m1 =  global.common;
document.write(m1);
})(window.global || (window.global = {}));</script>
<demo-app></demo-app>
</body></html>